<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.acorn.anpa.mapper.PreventMapper">

<insert id="doSave" parameterType="prevent" >
      INSERT INTO prevent (
   
    title,
    read_cnt,
    contents,
    img_src,
    mod_dt,
    reg_id,
    reg_dt,
    mod_id
) VALUES (
    
    #{title},
    0,
    #{contents},
    #{imgSrc},
    SYSDATE,
    #{regId},
    SYSDATE,
    #{regId}
)
    </insert>
    
<!-- 단건 조회 쿼리 -->
    <select id="doSelectOne" parameterType="prevent" resultType="prevent">
        SELECT
            prevent_seq as preventSeq,
            title,
            read_cnt as readCnt,
            contents,
            img_src as imgSrc,
            TO_CHAR(reg_dt, 'YYYY/MM/DD HH24:MI:SS') as formattedRegDt, -- 등록일
            reg_dt as regDt, -- 등록일
            reg_id as regId, -- 등록자
            mod_id as modId,
            TO_CHAR(mod_dt, 'YYYY/MM/DD HH24:MI:SS') as formattedModDt, -- 수정일
            mod_dt as modDt -- 수정일 원본
        FROM
            prevent
        WHERE
            prevent_seq = #{preventSeq}
    </select>

</mapper>
